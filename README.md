# oneyearfourcut-refactoring

코드스테이츠 메인 프로젝트의 백엔드 서버를 다시 설계해서 리팩토링하는 프로젝트입니다. 

원본 레포지토리 : https://github.com/OneYearFourCut/OneYearFourCut


# 목표

---
1. 데이터 베이스 재설계
2. 상위 도메인이 하위 도메인에 의존하지 않기
3. 단방향 맵핑을 기본으로 하고 필요한 경우 양방향 맵핑 하기
4. 테스트 주도 설계 도입, 테스트 커버리지 측정
5. 성능 부하 테스트 해보고 성능 튜닝
6. JWT 아닌 세션 방식 도입
7. 타임리프로 프론트 페이지 만들어보기


## 현재 ERD

---
![현재 ERD](images/img.png)

우선 채팅, 팔로우 부분은 빼고 다시 설계해볼 예정

### 문제점이라고 생각되는 부분
1. 댓글에서 전시댓글과 작품 댓글이 따로 구분된 것. 구현하면서 불편함을 느낌
    - 댓글 테이블이 작품 테이블만 바라보게 하고, 1번 작품 컬럼을 전시회 댓글로 따로 사용하면 되지않을까?
2. 대댓글을 댓글 테이블과 따로 구현
   - 한 테이블에서 depth를 넣어 하나의 테이블로 관리해보기


### (궁금증)식별관계 VS 비식별관계

---
### 식별 관계
- 식별 관계란, 부모 테이블의 기본키를 자식 테이블이 자신의 기본키로 사용하는 관계
- 부모 테이블의 키가 반드시 있어야하므로 부모 데이터가 없으면 자식이 생길 수 없다
- ERD상에서는 실선으로 표시

### 비식별 관계
- 부모의 pk를 기본키로 사용하지 않고, 외래키로 사용하는 관계
- 좀 더 자유로운 데이터 생성과 수정이 가능